@startuml
' Diagrama 13 - Crear turno del día
' FUNCIONALIDAD FUTURA - No implementada en el MVP actual
title 13 - Crear turno del día (FUTURO)

actor Doctor
participant "Sistema Web" as Web
participant "Servidor (API REST)" as Server
database "PostgreSQL (Neon)" as DB

Doctor -> Web : Click "Agregar turno" en turno_nuevo.html\n(hora, paciente, observaciones)

Web -> Server : POST /api/turnos\n{ id_paciente, hora, fecha, estado, observaciones }

Server -> DB : INSERT INTO turnos\n(id_paciente, hora, fecha, estado, observaciones, tenant_id)\nVALUES ($1, $2, $3, $4, $5, $6)
DB --> Server : id_turno

Server --> Web : HTTP 201 Created\n{ id: id_turno, mensaje: "Turno creado" }
Web --> Doctor : Actualiza vista de turnos

alt datos inválidos
  Server --> Web : HTTP 400 Bad Request\n  { error: "Datos incompletos" }
  Web --> Doctor : Muestra validación
end

@enduml
